# vi: set ft=zsh :

# Movement keys
bindkey '\e[7~'   beginning-of-line  # Home
bindkey '\e[8~'   end-of-line        # End
bindkey '\e[7^'   beginning-of-line  # Ctrl + Home
bindkey '\e[8^'   end-of-line        # Ctrl + End
bindkey '^H'      backward-kill-word # Ctrl + Backspace
bindkey '\e[3^'   kill-word          # Ctrl + Delete
bindkey '\e[1;5D' beginning-of-line  # Ctrl + Left
bindkey '\e[1;5C' end-of-line        # Ctrl + Right

# Magic space history expansion
bindkey ' ' magic-space

# Ctrl+r Search history
bindkey '^R' history-incremental-search-backward

# Ctrl+s Insert "sudo " at the start of line
sudo-command-line() {
  [[ -z $BUFFER ]] && zle up-history
  [[ $BUFFER != sudo\ * ]] && BUFFER="sudo $BUFFER"
  zle end-of-line
}
zle -N sudo-command-line
bindkey '^T' sudo-command-line
